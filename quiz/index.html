<!-- Try this example at https://alpsquid.github.io/quizlib -->

<!-- usage notes
  you need an empty title if you want Unanswerd Question to appear
  answers can also be functions that return true/false, or eval code with console.assert
  multiple choice arrays can also contain predicate evaluators
 -->

<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <script type="text/javascript" src="../dependencies/quizlib/dist/script.js"></script>
  <script type="text/javascript" src="../dependencies/quizlib/assessment/main.js"></script>

  <link rel="stylesheet" type="text/css" href="../dependencies/prism/style.css" media="screen">
  <script type="text/javascript" src="../dependencies/prism/script.js"> </script>

  <link rel="stylesheet" type="text/css" href="../dependencies/quizlib/dist/style.css" media="screen">
  <link rel="stylesheet" type="text/css" href="../dependencies/quizlib/assessment/stylesheet.css" media="screen">

  <title>Quizlib Multi-Quiz Example</title>

  <script>var quizzes = {};</script>
</head>

<body>

  <!-- Quiz Results -->
  <!-- For this multi quiz, we'll use the same result element and move it to active quiz when the answer button is pressed. -->
  <div id="quiz-result" class="card">
    You Scored <span id="quiz-percent"></span>% - <span id="quiz-score"></span>/<span id="quiz-max-score"></span><br />
  </div>

  <h1>Quiz: Debugging</h1>

  <!-- Variables -->
  <details>
    <summary>
      <h2 style='display:inline;'>Variables</h2>
    </summary>
    <div id="quiz-1">
      <!-- Question 1 -->
      <h3>1. Write the missing lines of code</h3>
      <pre class='line-numbers'><code id='swapem' class="language-javascript">let x = 'b';
let y = 'a';
let temp = null;

/* line 5 */
x = y;
/* line 7 */

console.assert(x === 'a', 'Test 1');
console.assert(y === 'b', 'Test 2');</code></pre>

      <div class="card quizlib-question">
        <div class="quizlib-question-title"></div>
        <div class="quizlib-question-answers">
          <input type="text" placeholder='line 5' name="q1">
        </div>
      </div>
      <div class="card quizlib-question">
        <div class="quizlib-question-title"></div>
        <div class="quizlib-question-answers">
          <input type="text" placeholder='line 7' name="q2">
        </div>
      </div>
      <!-- Answer Button. Here, we pass the ID of the quiz element (the parent of this button) to the showResults function.  -->
      <button type="button" onclick="showResults(this.parentNode.id);">Check Answers</button>
    </div>
    <script>
      quizzes['quiz-1'] = new Quiz('quiz-1', [
        (ans) => {
          if (ans.includes('b') || ans.includes('a')) {
            return 'answer cannot contain "a" or "b"';
          } else {
            const preSrc = document.getElementById('swapem').textContent;
            const src = preSrc.replace('/* line 5 */', ans).replace('/* line 7 */', 'y = temp;');
            eval(src);
          }
        },
        (ans) => {
          if (ans.includes('b') || ans.includes('a')) {
            return 'answer cannot contain "a" or "b"';
          } else {
            const preSrc = document.getElementById('swapem').textContent;
            const src = preSrc.replace('/* line 5 */', 'temp = x;').replace('/* line 7 */', ans);
            eval(src);
          }
        },
      ]);
    </script>

  </details>

  <hr>

  <!-- Primitive Types -->
  <details>
    <summary>
      <h2 style='display:inline;'>Primitive Types</h2>
    </summary>
    <div id="quiz-2">
      <!-- Question 1 -->
      <!-- <div class="card quizlib-question">
        <div class="quizlib-question-title">1. Some question</div>
        <div class="quizlib-question-answers">
          <ul>
            <li><label><input type="radio" name="q1" value="a"> some answer</label></li>
            <li><label><input type="radio" name="q1" value="b"> or is it this one?</label></li>
          </ul>
        </div>
      </div> -->
      <!-- Question 2 -->
      <!-- <div class="card quizlib-question">
        <div class="quizlib-question-title">2. Guess the word!</div>
        <div class="quizlib-question-answers">
          <input type="text" name="q2">
        </div>
      </div> -->
      <!-- Answer Button. Note that the showResults call is exactly the same as question 1. Nice!  -->
      <!-- <button type="button" onclick="showResults(this.parentNode.id);">Check Answers</button> -->
    </div>
  </details>

  <hr>

  <!-- Functions -->
  <details>
    <summary>
      <h2 style='display:inline;'>Functions</h2>
    </summary>
    <div id="quiz-3">
      <!-- Question 1 -->
      <!-- <div class="card quizlib-question">
        <div class="quizlib-question-title">1. What is 2 + 2?</div>
        <div class="quizlib-question-answers">
          <input type="text" name="q1">
        </div>
      </div> -->
      <!-- Question 2 -->
      <!-- <div class="card quizlib-question">
        <div class="quizlib-question-title">2. Guess my number!</div>
        <div class="quizlib-question-answers">
          <ul>
            <li><label><input type="radio" name="q2" value="a"> 3</label></li>
            <li><label><input type="radio" name="q2" value="b"> 7</label></li>
            <li><label><input type="radio" name="q2" value="c"> 9</label></li>
          </ul>
        </div>
      </div> -->
      <!-- Question 3 -->
      <!-- <div class="card quizlib-question">
        <div class="quizlib-question-title">3. What are the steps in a handler function?</div>
        <div class="quizlib-question-answers">
          <ul>
            <li><label><input type="radio" name="q3" value="a">
                log the action -> read user input -> do the logic -> alert the user</label></li>
            <li><label><input type="radio" name="q3" value="b">
                read user input -> alert the user -> do the logic -> log the action</label></li>
            <li><label><input type="radio" name="q3" value="c">
                read user input -> do the logic -> alert the user -> log the action</label></li>
            <li><label><input type="radio" name="q3" value="d">
                alert the user -> read user input -> do the logic -> log the action </label></li>
          </ul>
        </div>
      </div> -->
      <!-- Answer Button. Note that the showResults call is exactly the same as question 1. Nice!  -->
      <!-- <button type="button" onclick="showResults(this.parentNode.id);">Check Answers</button> -->
    </div>
  </details>

</body>

</html>
